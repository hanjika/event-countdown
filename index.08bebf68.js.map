{"mappings":"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","sources":["src/js/time.js","src/js/periods.js","src/js/remove.js","src/js/display.js","src/js/create.js","src/js/check.js","src/js/index.js","src/js/refresh.js"],"sourcesContent":["export function timeUntilEvent(date) {\r\n    const now = new Date();\r\n    const eventDate = new Date(date);\r\n\r\n    return eventDate.getTime() - now.getTime();\r\n}","export const PERIODS = [\r\n    {\r\n        name: 'week',\r\n        value: 86400000 * 7\r\n    },\r\n    {\r\n        name: 'day',\r\n        value: 86400000\r\n    },\r\n    {\r\n        name: 'hour',\r\n        value: 3600000\r\n    },\r\n    {\r\n        name: 'minute',\r\n        value: 60000\r\n    }\r\n]","let allStoredEvents = JSON.parse(localStorage.getItem('allStoredEvents'));\r\n\r\nexport function removeFromStorage(listItem) {\r\n    const id = listItem.id;\r\n    for (let i = 0; i < allStoredEvents.length; i++) {\r\n        if (allStoredEvents[i].Event === id) {\r\n            allStoredEvents.splice(i, 1);\r\n            localStorage.setItem('allStoredEvents', JSON.stringify(allStoredEvents));\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeEvent(listItem) {\r\n    document.querySelector('.list-of-events').removeChild(listItem);\r\n    removeFromStorage(listItem);\r\n}","import { PERIODS } from './periods';\r\nimport { createLiButton } from './create';\r\n\r\nlet periodsRequired;\r\n\r\nexport function displayEvent(timestamp, listItem, event) {\r\n    fromNow(timestamp, listItem);\r\n    listItem.innerText += ' until ' + event;\r\n}\r\n\r\nfunction fromNow(timestamp, listItem) {\r\n    const resultArr = [];\r\n\r\n    for (let i = 0; i < PERIODS.length; i++) {\r\n        while (timestamp >= PERIODS[i].value) {\r\n            resultArr.push(PERIODS[i].name);\r\n            timestamp -= PERIODS[i].value;\r\n        }\r\n    }\r\n    const resultFormatted = checkDuplicate(resultArr);\r\n    printTime(resultFormatted, listItem);\r\n}\r\n\r\nfunction checkDuplicate(array) {\r\n    let weeks = 0;\r\n    let days = 0;\r\n    let hours = 0;\r\n    let minutes = 0;\r\n    let seconds = 0;\r\n    let milliseconds = 0;\r\n    const condensed = [];\r\n\r\n    for (const period of array) {\r\n        if (period === 'week') {\r\n            weeks++;\r\n        } else if (period === 'day') {\r\n            days++;\r\n        } else if (period === 'hour') {\r\n            hours++;\r\n        } else if (period === 'minute') {\r\n            minutes++;\r\n        }\r\n    }\r\n    condensed.push(weeks, days, hours, minutes, seconds, milliseconds);\r\n    return arrayWithoutZero(condensed);\r\n}\r\n\r\nfunction arrayWithoutZero(array) {\r\n    periodsRequired = [];\r\n\r\n    for (const period of PERIODS) {\r\n        periodsRequired.push(period);\r\n    }\r\n\r\n    for (let i = 0; i < array.length; i++) {\r\n        while (array[i] === 0) {\r\n            array.splice(i, 1);\r\n            periodsRequired.splice(i, 1);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\n\r\nfunction printTime(finalArray, listItem) {\r\n    const numOfPeriod = finalArray.length;\r\n\r\n    for (let i = 0; i < finalArray.length; i++) {\r\n        if (numOfPeriod > 1 && numOfPeriod === i + 1) {\r\n            listItem.innerText += ' and';\r\n        } else if (numOfPeriod > 1 && i > 0) {\r\n            listItem.innerText += ',';\r\n        }\r\n        listItem.innerText += ' ' + finalArray[i] + ' ' + periodsRequired[i].name;\r\n        if (finalArray[i] > 1) {\r\n            listItem.innerText += 's';\r\n        }\r\n    }\r\n}\r\n\r\nexport function displayNewTimes(timestamp, event) {\r\n    const storedEventLi = document.getElementById(event);\r\n\r\n    storedEventLi.innerText = '';\r\n    \r\n    displayEvent(timestamp, storedEventLi, event)\r\n\r\n    createLiButton(storedEventLi);\r\n}","import { displayEvent } from \"./display\";\r\nimport { removeEvent } from \"./remove\";\r\n\r\nexport function createLi(event) {\r\n    const listItem = document.createElement('li');\r\n    listItem.setAttribute('id', event);\r\n\r\n    document.querySelector('.list-of-events').appendChild(listItem);\r\n    \r\n    return listItem;\r\n}\r\n\r\nexport function createLiButton(listItem) {\r\n    const deleteButton = document.createElement('button');\r\n    deleteButton.innerText = 'Ã—';\r\n    listItem.appendChild(deleteButton);\r\n\r\n    deleteButton.addEventListener('click', () => {\r\n        removeEvent(listItem);\r\n    });\r\n}\r\n\r\nexport function makeEvent(timestamp, event) {\r\n    const listItem = createLi(event);\r\n    \r\n    displayEvent(timestamp, listItem, event);\r\n\r\n    createLiButton(listItem);\r\n}","import { removeEvent } from \"./remove\";\r\n\r\nexport function isFutureDate(timestamp, listItem) {\r\n    if (timestamp <= 0) {\r\n        removeEvent(listItem);\r\n    }\r\n}\r\n\r\nexport function eventAlreadyNamed(event) {\r\n    let allStoredEvents = JSON.parse(localStorage.getItem('allStoredEvents'));\r\n\r\n    for (const storedEvent of allStoredEvents) {\r\n        if (storedEvent.Event === event) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}","import { timeUntilEvent } from './time';\r\n\r\nimport { \r\n    displayEvent\r\n} from './display';\r\n\r\nimport {\r\n    createLi,\r\n    createLiButton,\r\n    makeEvent\r\n} from './create';\r\n\r\nimport { \r\n    isFutureDate,\r\n    eventAlreadyNamed\r\n} from './check';\r\n\r\nimport { refreshCountdown } from './refresh';\r\n\r\nlet allStoredEvents = JSON.parse(localStorage.getItem('allStoredEvents'));\r\n\r\nwindow.onload = () => {\r\n    if (allStoredEvents !== null) {\r\n        for (const storedEvent of allStoredEvents) {\r\n            const listItem = createLi(storedEvent.Event);\r\n            \r\n            const timestamp = timeUntilEvent(storedEvent.Date);\r\n            isFutureDate(timestamp, listItem);\r\n\r\n            displayEvent(timestamp, listItem, storedEvent.Event)\r\n\r\n            createLiButton(listItem);\r\n        }\r\n\r\n    } else {\r\n        allStoredEvents = [];\r\n    }\r\n}\r\n\r\nwindow.submitForm = function submitForm(form) {\r\n    const date = form.eventdate.value;\r\n    const event = form.eventname.value;\r\n\r\n    const timestamp = timeUntilEvent(date);\r\n    if (timestamp <= 0) {\r\n        alert('Event has already occurred so cannot be added to countdown list.');\r\n    } else if (eventAlreadyNamed(event)) {\r\n        alert('This event name has already been taken. Please choose a unique event name.');\r\n    } else {\r\n        allStoredEvents.push({Event:event, Date:date});\r\n        localStorage.setItem('allStoredEvents', JSON.stringify(allStoredEvents));\r\n\r\n        makeEvent(timestamp, event);\r\n    }\r\n};\r\n\r\n/* Refresh dates every second */\r\n\r\nsetInterval(refreshCountdown, 1000);","import { timeUntilEvent } from \"./time\";\r\nimport { removeEvent } from \"./remove\";\r\nimport { displayNewTimes } from \"./display\";\r\n\r\nexport function refreshCountdown() {\r\n    const stored = JSON.parse(localStorage.getItem('allStoredEvents'));\r\n    if (stored !== null) {\r\n        for (let i = 0; i < stored.length; i++) {\r\n            let timestamp = timeUntilEvent(stored[i].Date);\r\n            if (timestamp <= 0) {\r\n                const listItem = document.getElementById(stored[i].Event);\r\n                removeEvent(listItem);\r\n            } else {\r\n                displayNewTimes(timestamp, stored[i].Event);\r\n            }\r\n        }\r\n    }   \r\n}"],"names":["$362e665a5c954dd8$export$aa0bfef5c01b2fe7","date","now","Date","getTime","$3d4fdad83bacf762$export$250100a662402f55","name","value","$aa5a245fb072c126$var$periodsRequired","$f6158bb5a4a003e4$var$allStoredEvents","JSON","parse","localStorage","getItem","$f6158bb5a4a003e4$export$b5ed465d99f3f1c3","listItem","document","querySelector","removeChild","id","i","length","Event","splice","setItem","stringify","$f6158bb5a4a003e4$export$a3e6e3b94afefd97","$092fa1546b5c1218$export$5c8f7bec9aa9905b","event","createElement","setAttribute","appendChild","$092fa1546b5c1218$export$9964b7bc88d03c23","deleteButton","innerText","addEventListener","$aa5a245fb072c126$export$956e6b670203a8b9","timestamp","resultArr","push","finalArray","numOfPeriod","$aa5a245fb072c126$var$printTime","array","weeks","days","hours","minutes","seconds","milliseconds","condensed","period","$aa5a245fb072c126$var$arrayWithoutZero","$aa5a245fb072c126$var$checkDuplicate","$aa5a245fb072c126$var$fromNow","$aa5a245fb072c126$export$5dfdd9883010ca47","storedEventLi","getElementById","$e0b4a83989b855f3$export$3c3ec13c4ecfb550","$bef5d2f5c1cf49f6$var$allStoredEvents","window","onload","storedEvent","submitForm","form","eventdate","eventname","alert","allStoredEvents","$e0b4a83989b855f3$export$4ccfd636a138e52a","$092fa1546b5c1218$export$2f7b310570bee07a","setInterval","stored"],"version":3,"file":"index.08bebf68.js.map"}